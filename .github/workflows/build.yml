name: build

on: push

env:
  DEBIAN_FRONTEND: noninteractive

jobs:
  run:
    runs-on: ubuntu-20.04
    steps:
      - uses: actions/checkout@v2

      - name: Distro setup
        run: |
          brew install gcc@11

      - name: Compile and compare
        run: |
          make git_clone
          make configure
          make build
          ./build/bin/faster_bench 100
          ./build/bin/blaze_bench 100